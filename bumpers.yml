rules:
  - match: "go test "
    send: |-
      Use "task test" instead for TDD integration. This command is a simple
      wrapper around "go test" which forwards results to TDD Guard for
      monitoring. By default it will run "go test ./..." but it supports
      arguments exactly like "go test" too:
      - task test -- -v -race ./...
      - task test -- ./pkg/api
      - task test -- ./pkg/api ./pkg/database
      - task test -- -run TestHandleMessage ./pkg/api
      - task test -- -timeout 30s ./...
  - match: "^(gci|go vet|goimports|gofumpt|go fmt|golangci-lint)"
    send: Use "task lint-fix" instead to resolve lint/formatting issues.
  - match: "cd /tmp"
    send: Create a "tmp" directory in the project root instead.
  - match: "sed -i"
    send: Editing with sed bypasses guards, edit manually instead.
  - match: "task build"
    send: Don't use "task build", use "task [linux/mac/windows]:build-[amd64/arm64" instead for testing.
commands:
  - name: lint
    send: Run "task lint-fix" and fix ALL issues.
